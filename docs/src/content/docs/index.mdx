---
title: Quick Start
description: Fundamental concepts of @aura-stack/router — endpoints, routes, routers, context, responses, and typing.
---

# What is `@aura-stack/router`

Welcome to `@aura-stack/router` package. It is a modern, TypeScript-first router and endpoint definition library for TypeScript backends that provides supported for `Next.js`, `Nuxt`, `Sveltekit` and more.
Build fully-typed APIs with declarative endpoints, automatic parameter inference, and first-class middleware support — all returning native Response objects for seamless compatibility with the Fetch API and modern API to be supported by the major of professional TypeScript applications.

<Callout type="info">
  All of the package is built-in in TypeScript providing a strong type-safe and type-inference for a better experience coding.
</Callout>

## What you'll learn

Through this quick start guide you are going to learn and understand the basics of how to create a endpoint definitions

- [Getting Started](#getting-started)
- [Installation](#installation)
- [Endpoint Definitions](#endpoints)
- [Router](#router)
  - [Creating a Router](#creating-a-router)
  - [Router Configuration](#router-configuration)
- [Client API](#client-api)

## Getting Started

This guide walks you through installation, setup, and the fundamental building blocks you need to create type-safe endpoints and routers in your TypeScript project.

<Steps>

<Step>

## Installation

Install the package and its peer dependency:

```npm
npm install @aura-stack/router zod
```

<Callout>
  `zod` is an optional peer dependency used for schema validation via `createEndpoint` and `createEndpointConfig`. Install it if
  you plan to use schema-based validation.
</Callout>

</Step>

<Step>

## Endpoints

Endpoints are the foundation of your API. Each endpoint maps an HTTP method and route to a handler function.

### Creating Endpoints

Use `createEndpoint` to define an endpoint. It requires three arguments:

- [`HTTPMethod`](/docs/create-endpoint#http-method): The HTTP method for the endpoint.
- [`Route`](/docs/create-endpoint#route): The route pattern.
- [`Route Handler`](/docs/create-endpoint#route-handler): The function that executes when the route is matched.

```ts lineNumbers title="@/api/users.ts"
import { createEndpoint } from "@aura-stack/router"

const getUsers = createEndpoint("GET", "/users", async (ctx) => {
  return Response.json({ users: [] })
})

const getUser = createEndpoint("GET", "/users/:userId", async (ctx) => {
  const { userId } = ctx.params
  return Response.json({ id: userId, name: "John" })
})
```

</Step>

<Step>

## Router

Routers group multiple endpoints and generate type-safe HTTP handlers for your runtime.

### Creating a Router

Use `createRouter` to combine endpoint definitions:

```ts lineNumbers title="@/index.ts"
import { createRouter } from "@aura-stack/router"
import { getUser, getUsers } from "@/api/users.ts"

export const router = createRouter([getUser, getUsers])
```

</Step>

<Step>

### Router Configuration

#### Base Path

Add a prefix to all routes in the router using `basePath`:

```ts lineNumbers title="@/index.ts"
import { createRouter } from "@aura-stack/router"
import { getUser, getUsers } from "@/api/users.ts"

export const router = createRouter([getUser, getUsers], {
  basePath: "/api/v1",
})
```

#### Global Middlewares

Use `middlewares` to register logic that should run before every endpoint:

```ts lineNumbers title="@/index.ts"
import { createRouter } from "@aura-stack/router"
import { getUser, getUsers } from "@/api/users.ts"

export const router = createRouter([getUser, getUsers], {
  middlewares: [
    (ctx) => {
      console.log(`[debug]: ${ctx.request.url}`)
      return ctx
    },
  ],
})
```

#### Catching Errors

Use `onError` to catch and customize unexpected errors:

- Internal router errors.
- Handler exceptions.
- Middleware errors.

```ts lineNumbers title="@/index.ts"
import { createRouter } from "@aura-stack/router"
import { getUser, getUsers } from "@/api/users.ts"

export const router = createRouter([getUser, getUsers], {
  onError: (error, request) => {
    return Response.json({ message: "Unexpected Error" })
  },
})
```

</Step>

<Step>

### HTTP handlers

Once your router is defined, you can export the generated handlers for use in web standard for `Response` and `Request` web APIs:

The HTTP Handlers exports the methods based on the methods defined in the endpoints passed to the router in [Endpoint Defintions](#creating-endpoints).

```ts lineNumbers title="@/handlers.ts"
import { router } from "@/index.ts"

export const { GET } = router
```

</Step>

<Step>

## Client API

It's provided a client API that provide type-safety to access to the endpoints defined via `createRouter` function.

```ts lineNumbers title="@/main.ts"
import { createClient } from "@aura-stack/router/client"
import { router } from "@/router.ts"

export const client = createClient<typeof router>({
  baseURL: "http://localhost:3000",
})

await client.get("/users/:userId", {
  params: {
    userId: 1,
  },
})
```

</Step>

</Steps>
